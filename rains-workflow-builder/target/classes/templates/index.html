<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head> 
 <title>Accountability Framework</title> 
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />  
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
 <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
 <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
 <link rel="stylesheet" href="/css/loader.css"> 
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
 <script src="./js/stepsLibrary.js"></script>
 <link rel="stylesheet" href="./css/componentsLibrary.css">
 <script src="./js/json-ld_context.js"></script>
   
 <script> 
function submitNewSystemForm(e) {    	
        e.preventDefault();
        setSpinner ();
        var $form = $("#createSystem");
        $.ajax({
            url : $form.attr('action'),
            type : 'post',
            data : $form.serialize(),
            success : function(response) {
                if ($(response).find('.has-error').length) {
                	loadDoc('/errror');
                }
                else{
                	console.log('here');
                	
                	loadDoc('/systems');
                	hideSpinner ();
                }
            }
        });
    };
</script>
    
<script>function loadDoc(location) {
	document.getElementById("loader").style.display = "inline";
	  var xhttp = new XMLHttpRequest();
	  xhttp.onreadystatechange = function() {
	    if (this.readyState == 4 && this.status == 200) {
	     document.getElementById("body").innerHTML = this.responseText;
	     document.getElementById("loader").style.display = "none";
	     eval(document.getElementById('script').innerHTML);
	    }
	  };
	  xhttp.open("GET", location, true);
	  xhttp.send();
	}
	
function setSpinner () {
	document.getElementById("loader").style.display = "inline";
	document.getElementById("body").style.display = "none";
}

function hideSpinner () {
	document.getElementById("loader").style.display = "none";
	document.getElementById("body").style.display = "inline";
}


	</script>

</head>

<body onload="loadDoc('/home')">
<div id="loader"></div>
<div id="body"></div>


</body>



</html>