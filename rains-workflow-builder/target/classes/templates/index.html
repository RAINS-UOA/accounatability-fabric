<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head> 
    <title>Accountability Framework</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
  <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
 <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
 
 
 <script src="./js/stepsLibrary.js"></script>
<link rel="stylesheet" href="./css/componentsLibrary.css">
   
<style>
/* Center the loader */
#loader {
  position: absolute;
  left: 50%;
  top: 50%;
  z-index: 1;
  width: 150px;
  height: 150px;
  margin: -75px 0 0 -75px;
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid #3498db;
  width: 120px;
  height: 120px;
  -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
}

@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Add animation to "page content" */
.animate-bottom {
  position: relative;
  -webkit-animation-name: animatebottom;
  -webkit-animation-duration: 1s;
  animation-name: animatebottom;
  animation-duration: 1s
}

@-webkit-keyframes animatebottom {
  from { bottom:-100px; opacity:0 } 
  to { bottom:0px; opacity:1 }
}

@keyframes animatebottom { 
  from{ bottom:-100px; opacity:0 } 
  to{ bottom:0; opacity:1 }
}


</style>
   
 <script> 
function submitNewSystemForm(e) {    	
        e.preventDefault();
        setSpinner ();
        var $form = $("#createSystem");
        $.ajax({
            url : $form.attr('action'),
            type : 'post',
            data : $form.serialize(),
            success : function(response) {
                if ($(response).find('.has-error').length) {
                	loadDoc('/errror');
                }
                else{
                	console.log('here');
                	
                	loadDoc('/systems');
                	hideSpinner ();
                }
            }
        });
    };
</script>
    
<script>function loadDoc(location) {
	document.getElementById("loader").style.display = "inline";
	  var xhttp = new XMLHttpRequest();
	  xhttp.onreadystatechange = function() {
	    if (this.readyState == 4 && this.status == 200) {
	     document.getElementById("body").innerHTML = this.responseText;
	     document.getElementById("loader").style.display = "none";
	     eval(document.getElementById('script').innerHTML);
	    }
	  };
	  xhttp.open("GET", location, true);
	  xhttp.send();
	}
	

function setSpinner () {
	document.getElementById("loader").style.display = "inline";
	document.getElementById("body").style.display = "none";
}

function hideSpinner () {
	document.getElementById("loader").style.display = "none";
	document.getElementById("body").style.display = "inline";
}

	</script>

</head>

<body onload="loadDoc('/home')">
<div id="loader"></div>
<div id="body"></div>


</body>



</html>